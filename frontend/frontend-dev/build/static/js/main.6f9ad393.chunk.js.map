{"version":3,"sources":["services/auth/index.ts","services/routes/index.ts","contexts/user-context/index.tsx","components/Container/index.tsx","components/Redirect/AdminRedirect/index.tsx","components/Title/index.tsx","components/Button/index.tsx","components/UserMenu/index.tsx","fragments/Header/index.tsx","services/requests/index.ts","services/exercises/index.ts","fragments/ExerciseDetails/index.tsx","screens/InstructorHome/index.tsx","components/Form/Label/index.tsx","components/Form/ErrorMessage/index.tsx","components/Form/TextInput/index.tsx","components/Form/index.tsx","screens/Login/login-schema.ts","components/LoadingIndicator/index.tsx","screens/Login/index.tsx","hooks/useQuery.tsx","components/SubTitle/index.tsx","components/ProgressCheck/index.tsx","routes/index.ts","fragments/ExerciseResultVisualization/Column/index.tsx","fragments/ExerciseResultVisualization/CodeExerciseResult/index.tsx","fragments/ExerciseResultVisualization/GroupResult/index.tsx","fragments/ExerciseResultVisualization/TopicResult/index.tsx","fragments/ExerciseResultVisualization/ResultColumn/index.tsx","fragments/ExerciseResultVisualization/service/index.ts","fragments/ExerciseResultVisualization/index.tsx","screens/StudentHome/index.tsx","models/Exercise.ts","models/UserAnswerSummary.ts","components/Redirect/LoginRedirect/index.tsx","contexts/index.tsx","translations/i18n.ts","App/index.tsx","reportWebVitals.ts","index.tsx","components/LoadingIndicator/LoadingIndicator.module.css"],"names":["login","username","password","a","axios","post","then","res","data","key","token","get","headers","Authorization","userData","pk","email","firstName","first_name","lastName","last_name","isStaff","is_staff","catch","USER_KEY","storeUser","user","localStorage","setItem","JSON","stringify","removeItem","retrieveUser","loadedString","getItem","parse","UserContext","createContext","putUser","removeUser","useUser","useContext","UserProvider","children","useState","setUser","logUserIn","logUserOut","memoizedValue","useMemo","useEffect","loadedUser","Provider","value","Container","className","AdminRedirect","location","useLocation","to","pathname","routes","LOGIN","search","Title","variant","Component","textSize","marginTop","indexOf","defaultProps","Button","onClick","type","disabled","variantClasses","primary","secondary","hidden","UserMenu","t","useTranslation","logout","Header","navRoutes","map","uri","routeData","routesData","permissionTest","title","useGetRequest","url","initialValue","skip","setData","error","setError","loading","setLoading","handleRequest","params","undefined","reason","finally","refresh","useExerciseList","offering","exerciseList","ExerciseDetails","slug","exerciseSlug","query","summaryList","useSummaryListForExercise","refreshSummaryList","numSubmissions","setNumSubmissions","numUniqueUsers","setNumUniqueUsers","lastRefresh","setLastRefresh","length","answerSummary","answer_count","reduce","b","Date","total","users","lastUpdate","toLocaleString","InstructorHome","item","Label","htmlFor","ErrorMessage","TextInput","forwardRef","props","ref","label","placeholder","inputId","name","otherProps","id","Form","schema","yup","shape","required","ContainerVariants","initial","transition","staggerChildren","animate","DotVariants","y","DotTransition","duration","repeat","Infinity","repeatType","ease","LoadingIndicator","light","dotClasses","styles","loadingDot","dark","animationContainer","motion","div","dotContainer","variants","span","Login","unmounted","useRef","current","invalidLogin","setInvalidLogin","history","useHistory","URLSearchParams","redirectTo","decodeURIComponent","window","href","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","onUsernameChange","onChange","usernameInputProps","onPasswordChange","passwordInputProps","onSubmit","replace","e","message","SubTitle","ProgressCheck","progress","Math","PI","checkLength","sqrt","circleVariants","start","strokeDashoffset","checkVariants","delay","width","height","viewBox","version","xmlns","r","cx","cy","fill","stroke","strokeWidth","circle","transform","strokeDasharray","path","d","Column","options","onSelect","completionRates","selectedRow","option","idx","handleClick","CodeExerciseResult","summaryMap","exercise","summary","answer","answerId","useAnswer","latest","round","max_points","passed","long_answer","code","GroupResult","group","groupName","Object","keys","TopicResult","topic","topicName","getComponent","keys2","ResultColumn","extractCompletionRatesFromExercises","exercises","answerSummaries","fromEntries","extractCompletionRatesFromExerciseGroups","rates","values","ExerciseResultVisualization","exerciseGroups","setTopic","contentGroup","setContentGroup","topicCompletionRates","setTopicCompletionRates","assign","contentGroups","allExercises","concat","extractCompletionRatesFromTopicContents","setContentGroups","groupCompletionRates","setGroupCompletionRates","groups","setExercises","exerciseCompletionRates","setExerciseCompletionRates","selectedTopicRow","setSelectedTopicRow","selectedGroupRow","setSelectedGroupRow","selectedExerciseRow","setSelectedExerciseRow","selectedLevel","setSelectedLevel","selectedData","setSelectedData","StudentHome","setExerciseGroups","forEach","push","groupByTopicAndContent","useSummaryList","loadingSummaryList","setSummaryMap","summaryListToMap","STUDENT_HOME","exact","component","INSTRUCTOR_HOME","LoginRedirect","Contexts","i18n","use","initReactI18next","init","resources","en","translation","translationEN","pt","translationPT","lng","fallbackLng","interpolation","escapeValue","App","entries","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.6f9ad393.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { User } from \"../../models/User\";\nimport { LOGIN_PATH, USER_DATA_PATH } from \"../routes\";\n\nexport const login = async (\n  username: string,\n  password: string\n): Promise<User | null> => {\n  return axios\n    .post(LOGIN_PATH, { username, password })\n    .then((res) => res.data.key)\n    .then(async (token) => {\n      return axios\n        .get(USER_DATA_PATH, {\n          headers: {\n            Authorization: `Token ${token}`\n          }\n        })\n        .then((res) => res.data)\n        .then((userData) => {\n          return {\n            pk: userData.pk,\n            username: userData.username,\n            email: userData.email,\n            firstName: userData.first_name,\n            lastName: userData.last_name,\n            isStaff: userData.is_staff,\n            token\n          };\n        })\n        .catch(() => null);\n    })\n    .catch(() => null);\n};\n\nconst USER_KEY = \"devlife-user-data\";\nexport const storeUser = (user: User | null) => {\n  if (!!user) localStorage.setItem(USER_KEY, JSON.stringify(user));\n  else localStorage.removeItem(USER_KEY);\n};\nexport const retrieveUser = (): User | null => {\n  const loadedString = localStorage.getItem(USER_KEY);\n  if (!!loadedString) return JSON.parse(loadedString);\n  return null;\n};\n","export const USER_DATA_PATH = \"/api/auth/user/\";\nexport const LOGIN_PATH = \"/api/auth/login/\";\n","import React, {\n  createContext,\n  useState,\n  useMemo,\n  useContext,\n  useEffect,\n  ReactNode,\n} from \"react\";\nimport { User } from \"../../models/User\";\nimport { retrieveUser, storeUser } from \"../../services/auth\";\n\ninterface UserContextType {\n  user: User | null;\n  putUser: (user: User) => void;\n  removeUser: () => void;\n}\n\nexport const UserContext = createContext<UserContextType>({\n  user: null,\n  putUser: () => {},\n  removeUser: () => {},\n});\n\nconst UserProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<User | null>(retrieveUser());\n\n  const logUserIn = (user: User) => {\n    storeUser(user);\n    setUser(user);\n  };\n  const logUserOut = () => {\n    storeUser(null);\n    setUser(null);\n  };\n  const memoizedValue = useMemo(\n    () => ({ user, putUser: logUserIn, removeUser: logUserOut }),\n    [user],\n  );\n\n  useEffect(() => {\n    if (!user) {\n      const loadedUser: User | null = retrieveUser();\n      if (!!loadedUser) logUserIn(loadedUser);\n    }\n  }, [user]);\n\n  return (\n    <UserContext.Provider\n      value={{\n        user: memoizedValue.user,\n        putUser: memoizedValue.putUser,\n        removeUser: memoizedValue.removeUser,\n      }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useUser = (): UserContextType => {\n  const { user, putUser, removeUser } = useContext(UserContext);\n  return { user, putUser, removeUser };\n};\n\nexport default UserProvider;\n","import React, { HTMLProps } from \"react\";\n\nconst Container = ({ className, children }: HTMLProps<HTMLDivElement>) => {\n  return <div className={`mx-4 ${className}`}>{children}</div>;\n};\n\nexport default Container;\n","import React from \"react\";\nimport { Redirect, useLocation } from \"react-router\";\nimport { useUser } from \"../../../contexts/user-context\";\nimport { routes } from \"../../../routes\";\n\nconst AdminRedirect = () => {\n  const { user } = useUser();\n  const location = useLocation();\n\n  if (!!user && !user.isStaff)\n    return (\n      <Redirect\n        to={{\n          pathname: routes.LOGIN,\n          search: `?next=${location.pathname}&reason=not-admin`,\n        }}\n      />\n    );\n  return null;\n};\n\nexport default AdminRedirect;\n","import React, { HTMLProps } from \"react\";\n\ninterface TitleProps {\n  variant: 1 | 2 | 5;\n}\n\nconst defaultProps = {\n  variant: 1,\n};\n\nconst Title = ({\n  variant,\n  children,\n  className,\n}: HTMLProps<HTMLHeadingElement> & TitleProps & typeof defaultProps) => {\n  const Component = variant === 5 ? \"h5\" : variant === 2 ? \"h2\" : \"h1\";\n  const textSize = variant === 5 ? \"\" : variant === 2 ? \"text-2xl\" : \"text-4xl\";\n  const marginTop =\n    !className || (className.indexOf(\"mt-\") < 0 && className.indexOf(\"my-\") < 0)\n      ? \"mt-4\"\n      : \"\";\n\n  return (\n    <Component\n      className={`${\n        className || \"\"\n      } uppercase font-bold ${textSize} leading-none tracking-wide ${marginTop}`}>\n      {children}\n    </Component>\n  );\n};\nTitle.defaultProps = defaultProps;\n\nexport default Title;\n","import React, { HTMLProps } from \"react\";\n\ninterface ButtonProps {\n  className: string;\n  variant: \"primary\" | \"secondary\" | \"hidden\";\n  type: \"button\" | \"submit\" | \"reset\" | undefined;\n}\n\nconst defaultProps = {\n  className: \"\",\n  variant: \"primary\",\n  type: \"button\",\n};\n\nconst Button = ({\n  onClick,\n  variant,\n  children,\n  type,\n  disabled,\n  className,\n}: ButtonProps & HTMLProps<HTMLButtonElement>) => {\n  const variantClasses = {\n    primary: disabled\n      ? \"bg-gray-300 text-gray-500 cursor-default\"\n      : \"bg-primary hover:bg-primary-500 text-white\",\n    secondary: disabled\n      ? \"bg-gray-300 text-gray-500 cursor-default\"\n      : \"bg-secondary hover:bg-secondary-500 text-white\",\n    hidden: disabled\n      ? \"bg-transparent text-gray-500 cursor-default\"\n      : \"bg-transparent\",\n  }[variant];\n\n  return (\n    <button\n      className={`${className} ${variantClasses} font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center`}\n      onClick={onClick}\n      type={type}\n      disabled={disabled}>\n      {children}\n    </button>\n  );\n};\n\nButton.defaultProps = defaultProps;\n\nexport default Button;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport { useUser } from \"../../contexts/user-context\";\nimport { routes } from \"../../routes\";\nimport Button from \"../Button\";\n\nconst UserMenu = () => {\n  const { t } = useTranslation();\n  const { user, removeUser: logout } = useUser();\n\n  return (\n    <>\n      {!user && <Link to={routes.LOGIN}>{t(\"Login\")}</Link>}\n      {!!user && (\n        <Button variant=\"hidden\" onClick={logout}>\n          {t(\"Logout\")}\n        </Button>\n      )}\n    </>\n  );\n};\n\nexport default UserMenu;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport UserMenu from \"../../components/UserMenu\";\nimport { useUser } from \"../../contexts/user-context\";\nimport { navRoutes, routesData } from \"../../routes\";\n\nconst Header = () => {\n  const { t } = useTranslation();\n  const { user } = useUser();\n\n  return (\n    <nav className=\"py-2 px-4\">\n      <ul className=\"flex items-center\">\n        <li className=\"uppercase font-bold\">\n          <Link to=\"/\">{t(\"Developer Life\")}</Link>\n        </li>\n        {navRoutes.map((uri) => {\n          const routeData = routesData[uri];\n          if (routeData.permissionTest && !routeData.permissionTest(user))\n            return null;\n          const title = routeData.title;\n          return (\n            <li key={`nav__${uri}`} className=\"ml-4\">\n              <Link to={uri}>{t(title)}</Link>\n            </li>\n          );\n        })}\n        <li className=\"ml-auto\">\n          <UserMenu />\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nexport const useGetRequest = <T>(\n  url: string,\n  initialValue: T,\n  token?: string,\n  skip?: boolean,\n) => {\n  const [data, setData] = useState<T>(initialValue);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const handleRequest = () => {\n    const params: any = {};\n    if (!!token) params[\"headers\"] = { Authorization: `Token ${token}` };\n\n    setLoading(true);\n    setError(undefined);\n    axios\n      .get(url, params)\n      .then((res) => res.data)\n      .then(setData)\n      .catch((reason) => setError(reason))\n      .finally(() => setLoading(false));\n  };\n\n  useEffect(() => {\n    if (!skip) handleRequest();\n  }, [url, token, skip]);\n\n  return { data, error, loading, refresh: handleRequest };\n};\n","import { Answer } from \"../../models/Answer\";\nimport { Exercise } from \"../../models/Exercise\";\nimport { UserAnswerSummary } from \"../../models/UserAnswerSummary\";\nimport { useGetRequest } from \"../requests\";\n\nexport const useExerciseList = (offering: number, token: string) => {\n  const { data, error, loading, refresh } = useGetRequest<Exercise[]>(\n    `/api/offerings/${offering}/exercises/`,\n    [],\n    token\n  );\n  return { exerciseList: data, error, loading, refresh };\n};\n\nexport const useAnswer = (\n  offering: number,\n  token: string,\n  exerciseSlug: string,\n  answerId: number,\n) => {\n  const { data, error, loading, refresh } = useGetRequest<Answer | null>(\n    `/api/offerings/${offering}/exercises/${exerciseSlug}/answers/${answerId}/`,\n    null,\n    token,\n    !(\n      exerciseSlug &&\n      token &&\n      answerId !== undefined &&\n      offering !== undefined\n    ),\n  );\n  return { answer: data, error, loading, refresh };\n};\n\nexport const useSummaryList = (\n  offering: number,\n  token: string,\n  user?: number,\n) => {\n  const query = user ? `?user=${user}` : \"\";\n  const { data, error, loading, refresh } = useGetRequest<UserAnswerSummary[]>(\n    `/api/offerings/${offering}/summaries/${query}`,\n    [],\n    token,\n  );\n  return { summaryList: data, error, loading, refresh };\n};\n\nexport const useSummaryListForExercise = (\n  offering: number,\n  exerciseSlug: string,\n  token: string,\n  user?: number,\n) => {\n  const query = user ? `?user=${user}` : \"\";\n  const { data, error, loading, refresh } = useGetRequest<UserAnswerSummary[]>(\n    `/api/offerings/${offering}/summaries/${exerciseSlug}/${query}`,\n    [],\n    token,\n  );\n  return { summaryList: data, error, loading, refresh };\n};\n","import { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"../../components/Button\";\nimport Container from \"../../components/Container\";\nimport { useUser } from \"../../contexts/user-context\";\nimport { useSummaryListForExercise } from \"../../services/exercises\";\n\ninterface ExerciseDetailsProps {\n  offering: number;\n  slug: string;\n}\n\nconst ExerciseDetails = ({ offering, slug }: ExerciseDetailsProps) => {\n  const { user } = useUser();\n  const token = user?.token || \"\";\n  const {\n    summaryList,\n    loading,\n    refresh: refreshSummaryList,\n  } = useSummaryListForExercise(offering, slug, token);\n\n  const { t } = useTranslation();\n\n  const [numSubmissions, setNumSubmissions] = useState<number>(0);\n  const [numUniqueUsers, setNumUniqueUsers] = useState<number>(0);\n  const [lastRefresh, setLastRefresh] = useState<Date>();\n  useEffect(() => {\n    if (loading) return;\n    setNumUniqueUsers(summaryList.length);\n    setNumSubmissions(\n      summaryList\n        .map((answerSummary) => answerSummary.answer_count)\n        .reduce((a, b) => a + b, 0),\n    );\n    setLastRefresh(new Date());\n  }, [loading, summaryList]);\n\n  return (\n    <Container className=\"bg-gray-100 p-4 my-4 flex\">\n      <div className=\"flex-grow\">\n        <p> {slug} </p>\n        {!!lastRefresh && (\n          <p>\n            {t(\"submissions sent before\", {\n              total: numSubmissions,\n              users: numUniqueUsers,\n              lastUpdate: lastRefresh?.toLocaleString(),\n            })}\n          </p>\n        )}\n      </div>\n      <Button onClick={refreshSummaryList}>{t(\"Reload\")}</Button>\n    </Container>\n  );\n};\n\nexport default ExerciseDetails;\n","import { useTranslation } from \"react-i18next\";\nimport Container from \"../../components/Container\";\nimport AdminRedirect from \"../../components/Redirect/AdminRedirect\";\nimport Title from \"../../components/Title\";\nimport Header from \"../../fragments/Header\";\nimport { useUser } from \"../../contexts/user-context\";\nimport { Exercise } from \"../../models/Exercise\";\nimport ExerciseDetails from \"../../fragments/ExerciseDetails\";\nimport { useExerciseList, useSummaryList } from \"../../services/exercises\";\n\nconst InstructorHome = () => {\n  const { t } = useTranslation();\n  const { user } = useUser();\n\n  const token = user?.token || \"\";\n  const offering = 1;\n\n  const { exerciseList } = useExerciseList(offering, token);\n\n  return (\n    <>\n      <AdminRedirect />\n      <Header />\n      <Container>\n        <Title>{t(\"Instructor Dashboard\")}</Title>\n        {exerciseList.map((item: Exercise) => (\n          <ExerciseDetails\n            key={`exercise-${item.slug}`}\n            offering={offering}\n            slug={item.slug}\n          />\n        ))}\n      </Container>\n    </>\n  );\n};\n\nexport default InstructorHome;\n","import React, { HTMLProps } from \"react\";\n\nconst Label = ({ htmlFor, children }: HTMLProps<HTMLLabelElement>) => {\n  return (\n    <label\n      htmlFor={htmlFor}\n      className=\"block text-gray-700 text-sm font-bold mb-1\">\n      {children}\n    </label>\n  );\n};\n\nexport default Label;\n","import React, { ReactNode } from \"react\";\n\ninterface ErrorMessageProps {\n  children: ReactNode;\n}\n\nconst ErrorMessage = ({ children }: ErrorMessageProps) => {\n  return <p className=\"text-red-500 text-xs italic\">{children}</p>;\n};\n\nexport default ErrorMessage;\n","import React, { forwardRef, HTMLProps } from \"react\";\nimport ErrorMessage from \"../ErrorMessage\";\nimport Label from \"../Label\";\n\ninterface TextInputProps {\n  inputId: string;\n  label?: string;\n  placeholder?: string;\n  type?: string;\n  error?: string;\n}\n\nconst defaultProps = {\n  type: \"text\",\n};\n\nconst TextInput = forwardRef<\n  HTMLInputElement,\n  TextInputProps & HTMLProps<HTMLInputElement>\n>((props, ref) => {\n  const {\n    error,\n    label,\n    placeholder,\n    inputId,\n    name,\n    type,\n    ...otherProps\n  } = props;\n  return (\n    <div className=\"mb-4\">\n      {label && <Label htmlFor={inputId}>{label}</Label>}\n      <input\n        className={`appearance-none border ${\n          error ? \"border-red-500\" : \"border-gray-300\"\n        } rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline`}\n        id={inputId}\n        type={type}\n        name={name}\n        ref={ref}\n        placeholder={placeholder || \"\"}\n        {...otherProps}\n      />\n      {error && <ErrorMessage>{error}</ErrorMessage>}\n    </div>\n  );\n});\n\nTextInput.defaultProps = defaultProps;\n\nexport default TextInput;\n","import React, { HTMLProps } from \"react\";\nimport Label from \"./Label\";\nimport TextInput from \"./TextInput\";\n\nconst Form = (props: HTMLProps<HTMLFormElement>) => {\n  return <form {...props} />;\n};\n\nForm.Label = Label;\nForm.TextInput = TextInput;\n\nexport default Form;\n","import * as yup from \"yup\";\n\nexport interface LoginInputs {\n  username: string;\n  password: string;\n}\n\nexport const schema = yup.object().shape({\n  username: yup.string().required(),\n  password: yup.string().required(),\n});\n","import React from \"react\";\nimport { motion, Transition, Variants } from \"framer-motion\";\nimport styles from \"./LoadingIndicator.module.css\";\n\nconst ContainerVariants = {\n  initial: {\n    transition: {\n      staggerChildren: 0.2,\n    },\n  },\n  animate: {\n    transition: {\n      staggerChildren: 0.2,\n    },\n  },\n};\n\nconst DotVariants: Variants = {\n  initial: {\n    y: \"0%\",\n  },\n  animate: {\n    y: \"100%\",\n  },\n};\n\nconst DotTransition: Transition = {\n  duration: 0.5,\n  repeat: Infinity,\n  repeatType: \"reverse\",\n  ease: \"easeInOut\",\n};\n\ninterface LoadingIndicatorProps {\n  className?: string;\n  light?: boolean;\n}\n\nconst LoadingIndicator = ({ light, className }: LoadingIndicatorProps) => {\n  const dotClasses = `${styles.loadingDot} ${\n    light ? styles.light : styles.dark\n  }`;\n  return (\n    <div className={`${className || \"\"} ${styles.animationContainer}`}>\n      <motion.div\n        className={styles.dotContainer}\n        variants={ContainerVariants}\n        initial=\"initial\"\n        animate=\"animate\">\n        <motion.span\n          className={dotClasses}\n          variants={DotVariants}\n          transition={DotTransition}\n        />\n        <motion.span\n          className={dotClasses}\n          variants={DotVariants}\n          transition={DotTransition}\n        />\n        <motion.span\n          className={dotClasses}\n          variants={DotVariants}\n          transition={DotTransition}\n        />\n      </motion.div>\n    </div>\n  );\n};\n\nexport default LoadingIndicator;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport Form from \"../../components/Form\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"../../components/Button\";\nimport { schema, LoginInputs } from \"./login-schema\";\nimport { login } from \"../../services/auth\";\nimport { useUser } from \"../../contexts/user-context\";\nimport ErrorMessage from \"../../components/Form/ErrorMessage\";\nimport { useHistory } from \"react-router\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\nimport useQuery from \"../../hooks/useQuery\";\n\nconst Login = () => {\n  const unmounted = useRef(false);\n  useEffect(() => {\n    return () => {\n      unmounted.current = true;\n    };\n  }, []);\n  const [invalidLogin, setInvalidLogin] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n  const { t } = useTranslation();\n  const { user, putUser } = useUser();\n  const history = useHistory();\n  const params = useQuery();\n  let redirectTo = params.get(\"redirectTo\");\n\n  useEffect(() => {\n    if (user && redirectTo) {\n      redirectTo = decodeURIComponent(redirectTo);\n      redirectTo += `${redirectTo.indexOf(\"?\") >= 0 ? \"&\" : \"?\"}token=${\n        user.token\n      }`;\n      window.location.href = redirectTo;\n    }\n  }, [user, redirectTo]);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginInputs>({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = (data: LoginInputs) => {\n    setLoading(true);\n    login(data.username, data.password)\n      .then((user) => {\n        if (unmounted.current) return;\n        if (!user) setInvalidLogin(true);\n        else {\n          putUser(user);\n          if (!redirectTo) {\n            history.replace(params.get(\"next\") || \"/\");\n          }\n        }\n      })\n      .finally(() => !unmounted.current && setLoading(false));\n  };\n\n  const { onChange: onUsernameChange, ...usernameInputProps } = register(\n    \"username\",\n  );\n  const handleUsernameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInvalidLogin(false);\n    onUsernameChange(e);\n  };\n\n  const { onChange: onPasswordChange, ...passwordInputProps } = register(\n    \"password\",\n  );\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInvalidLogin(false);\n    onPasswordChange(e);\n  };\n\n  return (\n    <div className=\"w-full min-h-screen px-2 flex flex-col justify-center\">\n      <div className=\"max-w-xs mx-auto rounded shadow\">\n        <h1 className=\"text-3xl uppercase px-6 py-4 bg-primary text-white rounded-t text-center\">\n          {t(\"Developer Life\")}\n        </h1>\n        <Form className=\"px-4 py-4\" onSubmit={handleSubmit(onSubmit)}>\n          <Form.TextInput\n            label={t(\"Username\")}\n            inputId=\"username\"\n            placeholder={t(\"Type username\")}\n            {...usernameInputProps}\n            onChange={handleUsernameChange}\n            error={t(errors?.username?.message || \"\")}\n          />\n          <Form.TextInput\n            label={t(\"Password\")}\n            inputId=\"password\"\n            type=\"password\"\n            placeholder={t(\"Password\")}\n            {...passwordInputProps}\n            onChange={handlePasswordChange}\n            error={t(errors?.password?.message || \"\")}\n          />\n          {invalidLogin && (\n            <ErrorMessage>{t(\"Invalid credentials\")}</ErrorMessage>\n          )}\n          {!!params.get(\"reason\") && (\n            <ErrorMessage>{t(params.get(\"reason\") || \"\")}</ErrorMessage>\n          )}\n          <Button className=\"mt-2 w-full\" type=\"submit\" disabled={loading}>\n            {t(\"Sign in\")}\n          </Button>\n          {loading && (\n            <div className=\"w-full flex justify-center\">\n              <LoadingIndicator className=\"text-xs\" />\n            </div>\n          )}\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import { useLocation } from \"react-router\";\n\nexport default (): URLSearchParams => {\n  return new URLSearchParams(useLocation().search);\n};\n","import React, { HTMLProps } from \"react\";\n\nconst SubTitle = ({ children, className }: HTMLProps<HTMLHeadingElement>) => {\n  return (\n    <h2\n      className={`${className || \"\"} text-2xl text-primary leading-none mt-1`}>\n      {children}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\n\ninterface ProgressCheckProps {\n  className?: string;\n  progress: number; // Should be in [0.0, 1.0]\n}\n\nconst defaultProps = {\n  progress: 1,\n};\n\nconst ProgressCheck = ({ className, progress }: ProgressCheckProps) => {\n  const length = 2 * 90 * Math.PI;\n  if (progress < 0) progress = 0;\n  if (progress > 1) progress = 1;\n\n  const checkLength = (40 + 70) * Math.sqrt(2);\n\n  const circleVariants = {\n    start: {\n      strokeDashoffset: length,\n    },\n    progress: {\n      strokeDashoffset: length * (1 - progress),\n      transition: {\n        duration: 0.5,\n      },\n    },\n  };\n  const checkVariants = {\n    start: {\n      strokeDashoffset: checkLength,\n    },\n    progress: {\n      strokeDashoffset: 0,\n      transition: {\n        duration: 0.5,\n        delay: 0.2,\n      },\n    },\n  };\n\n  return (\n    <svg\n      className={className || \"\"}\n      id=\"svg\"\n      width=\"200\"\n      height=\"200\"\n      viewBox=\"0 0 200 200\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <circle\n        r=\"90\"\n        cx=\"100\"\n        cy=\"100\"\n        fill=\"transparent\"\n        stroke=\"#cad8ca\"\n        strokeWidth=\"20\"\n      />\n      <motion.circle\n        r=\"90\"\n        cx=\"100\"\n        cy=\"100\"\n        fill=\"transparent\"\n        stroke=\"#27A5A2\"\n        transform=\"rotate(-90 100 100)\"\n        strokeWidth=\"20\"\n        strokeDasharray={`${length}`}\n        strokeDashoffset={`${length * (1 - progress)}`}\n        variants={circleVariants}\n        initial=\"start\"\n        animate=\"progress\"\n      />\n      {progress === 1 && (\n        <motion.path\n          d=\"M45 95L85 135L155 65\"\n          fill=\"transparent\"\n          stroke=\"#27A5A2\"\n          strokeWidth=\"20\"\n          strokeDasharray={`${checkLength}`}\n          strokeDashoffset={\"0\"}\n          variants={checkVariants}\n          initial=\"start\"\n          animate=\"progress\"\n        />\n      )}\n    </svg>\n  );\n};\n\nProgressCheck.defaultProps = defaultProps;\n\nexport default ProgressCheck;\n","import { RouteProps } from \"react-router\";\nimport { User } from \"../models/User\";\nimport InstructorHome from \"../screens/InstructorHome\";\nimport Login from \"../screens/Login\";\nimport StudentHome from \"../screens/StudentHome\";\n\nexport enum routes {\n  STUDENT_HOME = \"/\",\n  INSTRUCTOR_HOME = \"/instructor\",\n  LOGIN = \"/login\",\n}\n\ninterface RouteData {\n  title: string;\n  permissionTest?: (user: User | null) => boolean;\n  props: RouteProps;\n}\n\nexport const routesData: { [route: string]: RouteData } = {};\nroutesData[routes.STUDENT_HOME] = {\n  title: \"Student Dashboard\",\n  props: {\n    path: routes.STUDENT_HOME,\n    exact: true,\n    component: StudentHome,\n  },\n};\nroutesData[routes.INSTRUCTOR_HOME] = {\n  title: \"Instructor Dashboard\",\n  permissionTest: (user: User | null): boolean => !!user?.isStaff,\n  props: {\n    path: routes.INSTRUCTOR_HOME,\n    exact: true,\n    component: InstructorHome,\n  },\n};\nroutesData[routes.LOGIN] = {\n  title: \"Login\",\n  props: {\n    path: routes.LOGIN,\n    exact: true,\n    component: Login,\n  },\n};\n\nexport const navRoutes: string[] = [routes.INSTRUCTOR_HOME];\n","import React from \"react\";\nimport ProgressCheck from \"../../../components/ProgressCheck\";\nimport Title from \"../../../components/Title\";\nimport { CompletionRates } from \"../service\";\n\ninterface ColumnProps {\n  title: string;\n  options: string[];\n  completionRates: CompletionRates;\n  selectedRow: number;\n  onSelect?: (option: string, index: number) => void;\n}\n\nconst Column = ({\n  options,\n  onSelect,\n  title,\n  completionRates,\n  selectedRow,\n}: ColumnProps) => {\n  const handleClick = (idx: number) => {\n    onSelect && onSelect(options[idx], idx);\n  };\n\n  return (\n    <div className=\"border border-gray-200 py-2 overflow-hidden\">\n      <Title variant={5} className=\"px-4 mt-2\">\n        {title}\n      </Title>\n      <ul className=\"mt-4\">\n        {options.map((option, idx) => (\n          <li\n            key={`option-${option}-${idx}`}\n            onClick={() => handleClick(idx)}\n            className={`flex items-center cursor-pointer px-4 py-1 ${\n              idx === selectedRow ? \"bg-primary-50\" : \"\"\n            }`}>\n            <div className=\"min-w-min mr-2\">\n              <ProgressCheck\n                className=\"w-6 h-6\"\n                progress={completionRates[option]}\n              />\n            </div>\n            {option}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Column;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"../../../components/Button\";\nimport Title from \"../../../components/Title\";\nimport { useUser } from \"../../../contexts/user-context\";\nimport { Exercise } from \"../../../models/Exercise\";\nimport { UserAnswerSummaryMap } from \"../../../models/UserAnswerSummary\";\nimport { useAnswer } from \"../../../services/exercises\";\n\ninterface CodeExerciseResultProps {\n  offering: number;\n  summaryMap: UserAnswerSummaryMap;\n  exercise: Exercise;\n}\n\nconst CodeExerciseResult = ({\n  offering,\n  summaryMap,\n  exercise,\n}: CodeExerciseResultProps) => {\n  const { t } = useTranslation();\n  const { user } = useUser();\n\n  const summary = summaryMap[exercise?.pk];\n  const { answer } = useAnswer(\n    offering,\n    user?.token || \"\",\n    exercise?.slug,\n    summary?.latest,\n  );\n  return (\n    <>\n      <Title variant={5} className=\"px-4 mt-2\">\n        {exercise?.slug || \"\"}\n      </Title>\n      <div className=\"px-4 mt-4\">\n        <Button className=\"uppercase tracking-wide\">Ver Exerccio</Button>\n        <section className=\"mt-6\">\n          <Title variant={5}>{t(\"Results\")}</Title>\n          <div className=\"flex flex-wrap mt-2\">\n            <span className=\"mr-8\">\n              {t(\"Max points\")}:{\" \"}\n              <strong className=\"font-bold text-primary-500\">\n                {Math.round((summary?.max_points || 0) * 10000) / 100}%\n              </strong>\n            </span>\n            <span className=\"mr-8\">\n              {t(\"Attempts\")}:{\" \"}\n              <strong className=\"font-bold\">\n                {summary?.answer_count || 0}\n              </strong>\n            </span>\n          </div>\n        </section>\n        {exercise.type === \"CODE\" && (\n          <section className=\"mt-6\">\n            <h6 className=\"font-bold\">{t(\"Last attempt\")}</h6>\n            <div className=\"flex flex-wrap mt-2\">\n              <span className=\"mr-8\">\n                {t(\"Tests passing\")}:{\" \"}\n                <strong className=\"font-bold\">\n                  {answer && answer.summary ? answer.summary?.passed : \"0\"}\n                </strong>\n              </span>\n            </div>\n            {answer?.long_answer?.code && (\n              <div className=\"mt-4\">\n                <strong className=\"font-bold\">{t(\"Your solution\")}:</strong>\n                <pre className=\"mt-2 bg-black text-white py-4 px-4\">\n                  {answer.long_answer.code}\n                </pre>\n              </div>\n            )}\n          </section>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default CodeExerciseResult;\n","import React from \"react\";\nimport ProgressCheck from \"../../../components/ProgressCheck\";\nimport Title from \"../../../components/Title\";\nimport { ExerciseGroups } from \"../../../models/Exercise\";\nimport { CompletionRates } from \"../service\";\n\ninterface GroupResultProps {\n  group: ExerciseGroups;\n  completionRates: CompletionRates;\n}\n\nconst GroupResult = ({ group, completionRates }: GroupResultProps) => {\n  const groupName = Object.keys(group)[0];\n  return (\n    <>\n      <Title variant={5} className=\"px-4 mt-2\">\n        {groupName}\n      </Title>\n      <div className=\"px-4 mt-4\">\n        <ProgressCheck progress={completionRates[groupName] || 0} />\n      </div>\n    </>\n  );\n};\n\nexport default GroupResult;\n","import React from \"react\";\nimport ProgressCheck from \"../../../components/ProgressCheck\";\nimport Title from \"../../../components/Title\";\nimport { TopicContentExercises } from \"../../../models/Exercise\";\nimport { CompletionRates } from \"../service\";\n\ninterface TopicResultProps {\n  topic: TopicContentExercises;\n  completionRates: CompletionRates;\n}\n\nconst TopicResult = ({ topic, completionRates }: TopicResultProps) => {\n  const topicName = Object.keys(topic)[0];\n  return (\n    <>\n      <Title variant={5} className=\"px-4 mt-2\">\n        {topicName}\n      </Title>\n      <div className=\"px-4 mt-4\">\n        <ProgressCheck progress={completionRates[topicName] || 0} />\n      </div>\n    </>\n  );\n};\n\nexport default TopicResult;\n","import React from \"react\";\nimport {\n  Exercise,\n  ExerciseGroups,\n  TopicContentExercises,\n} from \"../../../models/Exercise\";\nimport { UserAnswerSummaryMap } from \"../../../models/UserAnswerSummary\";\nimport CodeExerciseResult from \"../CodeExerciseResult\";\nimport GroupResult from \"../GroupResult\";\nimport { CompletionRates } from \"../service\";\nimport TopicResult from \"../TopicResult\";\n\ninterface ResultColumnProps {\n  data: Exercise | ExerciseGroups | TopicContentExercises | null;\n  offering: number;\n  summaryMap: UserAnswerSummaryMap;\n  completionRates: CompletionRates;\n}\n\nconst getComponent = (\n  data: any,\n  offering: number,\n  summaryMap: UserAnswerSummaryMap,\n  completionRates: CompletionRates,\n): React.ReactNode => {\n  if (!data) return null;\n\n  // Is exercise\n  if (data.slug)\n    return (\n      <CodeExerciseResult\n        offering={offering}\n        summaryMap={summaryMap}\n        exercise={data}\n      />\n    );\n\n  // Is exercise group\n  const keys = Object.keys(data);\n  if (keys && data[keys[0]]?.length)\n    return <GroupResult group={data} completionRates={completionRates} />;\n\n  // Is topic\n  const keys2 = Object.keys(data[keys[0]]);\n  if (keys && keys2 && data[keys[0]][keys2[0]]?.length)\n    return <TopicResult topic={data} completionRates={completionRates} />;\n\n  // I don't know what you are\n  return null;\n};\n\nconst ResultColumn = ({\n  data,\n  offering,\n  summaryMap,\n  completionRates,\n}: ResultColumnProps) => {\n  return <>{getComponent(data, offering, summaryMap, completionRates)}</>;\n};\n\nexport default ResultColumn;\n","import {\n  Exercise,\n  ExerciseGroups,\n  TopicContentExercises,\n} from \"../../../models/Exercise\";\nimport { UserAnswerSummaryMap } from \"../../../models/UserAnswerSummary\";\n\nexport interface CompletionRates {\n  [name: string]: number;\n}\n\nexport const extractCompletionRatesFromExercises = (\n  exercises: Exercise[],\n  answerSummaries: UserAnswerSummaryMap,\n): CompletionRates => {\n  return Object.fromEntries(\n    exercises.map((exercise) => {\n      const summary = answerSummaries[exercise.pk];\n      return [exercise.slug, summary ? summary.max_points : 0];\n    }),\n  );\n};\n\nexport const extractCompletionRatesFromExerciseGroups = (\n  exercises: ExerciseGroups,\n  answerSummaries: UserAnswerSummaryMap,\n): CompletionRates => {\n  return Object.fromEntries(\n    Object.keys(exercises).map((name) => {\n      const rates = Object.values(\n        extractCompletionRatesFromExercises(exercises[name], answerSummaries),\n      );\n      return [name, rates.reduce((a, b) => a + b, 0) / rates.length];\n    }),\n  );\n};\n\nexport const extractCompletionRatesFromTopicContents = (\n  exercises: TopicContentExercises,\n  answerSummaries: UserAnswerSummaryMap,\n): CompletionRates => {\n  return Object.assign(\n    {},\n    ...Object.keys(exercises).map((name) => {\n      const contentGroups = exercises[name];\n      const allExercises = Object.keys(contentGroups)\n        .map((groupName) => contentGroups[groupName])\n        .reduce((a, b) => {\n          if (!a && !b) return [];\n          if (!a) return b;\n          if (!b) return a;\n          return a.concat(b);\n        }, []);\n      return extractCompletionRatesFromExerciseGroups(\n        { [name]: allExercises },\n        answerSummaries,\n      );\n    }),\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Exercise,\n  ExerciseGroups,\n  TopicContentExercises,\n} from \"../../models/Exercise\";\nimport { UserAnswerSummaryMap } from \"../../models/UserAnswerSummary\";\nimport Column from \"./Column\";\nimport ResultColumn from \"./ResultColumn\";\nimport {\n  CompletionRates,\n  extractCompletionRatesFromExerciseGroups,\n  extractCompletionRatesFromExercises,\n  extractCompletionRatesFromTopicContents,\n} from \"./service\";\n\ninterface ExerciseResultVisualizationProps {\n  exerciseGroups: TopicContentExercises;\n  summaryMap: UserAnswerSummaryMap;\n  className?: string;\n}\n\nconst ExerciseResultVisualization = ({\n  exerciseGroups,\n  summaryMap,\n  className,\n}: ExerciseResultVisualizationProps) => {\n  const { t } = useTranslation();\n  const [topic, setTopic] = useState<string>(\"\");\n  const [contentGroup, setContentGroup] = useState<string>(\"\");\n\n  const [\n    topicCompletionRates,\n    setTopicCompletionRates,\n  ] = useState<CompletionRates>({});\n  useEffect(() => {\n    setTopicCompletionRates(\n      extractCompletionRatesFromTopicContents(exerciseGroups, summaryMap),\n    );\n  }, [exerciseGroups, summaryMap]);\n\n  const [contentGroups, setContentGroups] = useState<ExerciseGroups>({});\n  const [\n    groupCompletionRates,\n    setGroupCompletionRates,\n  ] = useState<CompletionRates>({});\n  useEffect(() => {\n    const groups = topic ? exerciseGroups[topic] : {};\n    setContentGroups(groups);\n    if (groups)\n      setGroupCompletionRates(\n        extractCompletionRatesFromExerciseGroups(groups, summaryMap),\n      );\n  }, [topic, exerciseGroups, summaryMap]);\n\n  const [exercises, setExercises] = useState<string[]>([]);\n  const [\n    exerciseCompletionRates,\n    setExerciseCompletionRates,\n  ] = useState<CompletionRates>({});\n  useEffect(() => {\n    const exerciseList = contentGroups[contentGroup];\n    setExercises(\n      Object.keys(contentGroups) && contentGroup\n        ? exerciseList.map((exercise) => exercise.slug)\n        : [],\n    );\n    if (exerciseList)\n      setExerciseCompletionRates(\n        extractCompletionRatesFromExercises(exerciseList, summaryMap),\n      );\n  }, [contentGroups, contentGroup, summaryMap]);\n\n  const [selectedTopicRow, setSelectedTopicRow] = useState<number>(-1);\n  const [selectedGroupRow, setSelectedGroupRow] = useState<number>(-1);\n  const [selectedExerciseRow, setSelectedExerciseRow] = useState<number>(-1);\n  const [selectedLevel, setSelectedLevel] = useState<number>(0);\n  const [selectedData, setSelectedData] = useState<\n    Exercise | ExerciseGroups | TopicContentExercises | null\n  >(null);\n  const handleSelectTopic = (topic: string, idx: number) => {\n    setTopic(topic);\n    setSelectedData({ [topic]: exerciseGroups[topic] });\n    setContentGroup(\"\");\n    setSelectedTopicRow(idx);\n    setSelectedGroupRow(-1);\n    setSelectedExerciseRow(-1);\n    setSelectedLevel(0);\n  };\n  const handleSelectGroup = (group: string, idx: number) => {\n    setContentGroup(group);\n    setSelectedData({ [group]: contentGroups[group] });\n    setSelectedGroupRow(idx);\n    setSelectedExerciseRow(-1);\n    setSelectedLevel(1);\n  };\n  const handleSelectExercise = (slug: string, idx: number) => {\n    const exercise = contentGroups[contentGroup][idx];\n    setSelectedData(exercise);\n    setSelectedExerciseRow(idx);\n    setSelectedLevel(2);\n  };\n\n  return (\n    <div className={`grid grid-cols-6 shadow-sm ${className ? className : \"\"}`}>\n      <Column\n        title={t(\"Topic\")}\n        options={Object.keys(exerciseGroups)}\n        onSelect={handleSelectTopic}\n        completionRates={topicCompletionRates}\n        selectedRow={selectedTopicRow}\n      />\n      <Column\n        title={t(\"Content\")}\n        options={Object.keys(contentGroups)}\n        onSelect={handleSelectGroup}\n        completionRates={groupCompletionRates}\n        selectedRow={selectedGroupRow}\n      />\n      <Column\n        title={t(\"Exercises\")}\n        options={exercises}\n        onSelect={handleSelectExercise}\n        completionRates={exerciseCompletionRates}\n        selectedRow={selectedExerciseRow}\n      />\n      <div className=\"col-start-4 col-end-7 border border-gray-200 py-2\">\n        <ResultColumn\n          offering={1}\n          data={selectedData}\n          summaryMap={summaryMap}\n          completionRates={\n            [\n              topicCompletionRates,\n              groupCompletionRates,\n              exerciseCompletionRates,\n            ][selectedLevel]\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ExerciseResultVisualization;\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Container from \"../../components/Container\";\nimport SubTitle from \"../../components/SubTitle\";\nimport Title from \"../../components/Title\";\nimport { useUser } from \"../../contexts/user-context\";\nimport ExerciseResultVisualization from \"../../fragments/ExerciseResultVisualization\";\nimport Header from \"../../fragments/Header\";\nimport {\n  groupByTopicAndContent,\n  TopicContentExercises,\n} from \"../../models/Exercise\";\nimport {\n  summaryListToMap,\n  UserAnswerSummary,\n  UserAnswerSummaryMap,\n} from \"../../models/UserAnswerSummary\";\nimport { useExerciseList, useSummaryList } from \"../../services/exercises\";\n\nconst StudentHome = () => {\n  const { t } = useTranslation();\n  const { user } = useUser();\n  const [exerciseGroups, setExerciseGroups] = useState<TopicContentExercises>(\n    {},\n  );\n\n  const token = user?.token || \"\";\n  const offering = 1;\n\n  const { exerciseList } = useExerciseList(offering, token);\n  useEffect(() => {\n    setExerciseGroups(groupByTopicAndContent(exerciseList));\n  }, [exerciseList]);\n\n  const { summaryList, loading: loadingSummaryList } = useSummaryList(\n    offering,\n    token,\n    user?.pk,\n  );\n  const [summaryMap, setSummaryMap] = useState<UserAnswerSummaryMap>({});\n  useEffect(() => {\n    if (loadingSummaryList) return;\n    setSummaryMap(summaryListToMap(summaryList));\n  }, [summaryList, loadingSummaryList]);\n\n  if (!user) return null;\n\n  return (\n    <>\n      <Header />\n      <Container>\n        <Title>{t(\"Dashboard\")}</Title>\n        <SubTitle>{`${user.firstName} ${user?.lastName}`}</SubTitle>\n\n        <section className=\"my-8\">\n          <Title variant={2}>{t(\"Exercises\")}</Title>\n          <ExerciseResultVisualization\n            exerciseGroups={exerciseGroups}\n            summaryMap={summaryMap}\n            className=\"mt-4\"\n          />\n        </section>\n      </Container>\n    </>\n  );\n};\n\nexport default StudentHome;\n","export interface Exercise {\n  pk: number;\n  slug: string;\n  url: string;\n  type: string;\n  offering: number;\n  topic: string;\n  group: string;\n}\n\nexport interface ExerciseGroups {\n  [url: string]: Exercise[];\n}\nexport const groupByURL = (exercises: Exercise[]): ExerciseGroups => {\n  const groups: ExerciseGroups = {};\n\n  exercises.forEach((exercise) => {\n    if (!groups[exercise.url]) groups[exercise.url] = [];\n    groups[exercise.url].push(exercise);\n  });\n\n  return groups;\n};\n\nexport interface TopicContentExercises {\n  [url: string]: ExerciseGroups;\n}\n\nexport const groupByTopicAndContent = (\n  exercises: Exercise[],\n): TopicContentExercises => {\n  const groups: TopicContentExercises = {};\n\n  exercises.forEach((exercise) => {\n    const { topic, group } = exercise;\n    if (!groups[topic]) groups[topic] = {};\n    if (!groups[topic][group]) groups[topic][group] = [];\n    groups[topic][group].push(exercise);\n  });\n\n  return groups;\n};\n","export interface UserAnswerSummary {\n  pk: number;\n  user: number;\n  exercise: number;\n  max_points: number;\n  answer_count: number;\n  latest: number;\n}\n\nexport interface UserAnswerSummaryMap {\n  [exercise: number]: UserAnswerSummary;\n}\n\nexport const summaryListToMap = (\n  summaryList: UserAnswerSummary[],\n): UserAnswerSummaryMap => {\n  return Object.fromEntries(\n    summaryList.map((summary) => [summary.exercise, summary]),\n  );\n};\n","import React from \"react\";\nimport { Redirect, useLocation } from \"react-router\";\nimport { useUser } from \"../../../contexts/user-context\";\nimport { routes } from \"../../../routes\";\n\nconst LoginRedirect = () => {\n  const { user } = useUser();\n  const location = useLocation();\n\n  if (!user && location.pathname !== routes.LOGIN)\n    return (\n      <Redirect\n        to={{ pathname: routes.LOGIN, search: `?next=${location.pathname}` }}\n      />\n    );\n  return null;\n};\n\nexport default LoginRedirect;\n","import React from \"react\";\nimport UserProvider from \"./user-context\";\n\nconst Contexts: React.FC = ({ children }) => {\n  return <UserProvider>{children}</UserProvider>;\n};\n\nexport default Contexts;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    // the translations\n    // (tip move them in a JSON file and import them,\n    resources: {\n      en: {\n        translation: translationEN,\n      },\n      pt: {\n        translation: translationPT,\n      },\n    },\n    lng: \"pt\",\n    fallbackLng: \"pt\",\n\n    interpolation: {\n      escapeValue: false, // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n    },\n  });\n\nexport default i18n;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport LoginRedirect from \"../components/Redirect/LoginRedirect\";\nimport Contexts from \"../contexts\";\n\nimport { routesData } from \"../routes\";\nimport \"../translations/i18n\";\n\nfunction App() {\n  return (\n    <Contexts>\n      <div className=\"App\">\n        <LoginRedirect />\n        <div>\n          <Switch>\n            {Object.entries(routesData).map(([uri, { props }], idx) => (\n              <Route key={`route__${idx}`} {...props} />\n            ))}\n          </Switch>\n        </div>\n      </div>\n    </Contexts>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"animationContainer\":\"LoadingIndicator_animationContainer__31NJQ\",\"loadingDot\":\"LoadingIndicator_loadingDot__9elUF\",\"dark\":\"LoadingIndicator_dark__VNh81\",\"light\":\"LoadingIndicator_light__1lhVC\",\"dotContainer\":\"LoadingIndicator_dotContainer__3C8Kq\"};"],"sourceRoot":""}